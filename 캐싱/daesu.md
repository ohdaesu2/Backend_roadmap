캐싱
===
### 캐시
- 캐시는 잠시 저장해둔다라는 의미를 가지는 기능이다. 
- 캐시 메모리: 주기억장치와 CPU 사이에서 빠르게 전달을 하기 위해 자주 사용하는 데이터들을 저장해두는 더 빠른 메모리이다.
- 캐싱: 이 캐시 영역으로 데이터를 가져와서 접근하는 방식
- ex) 속도가 느린 하드디스크의 데이터를 속도가 빠른 메모리로 가져와서 메모리상에서 읽고 쓴느 작업을 수행하는 것을 캐싱이라고 한다.
***
### CDN(Content Delivery Network)
- 컨텐츠를 딜리버리 해주는 서버 
- 자주 쓰는 파일들을 가까운 지역의 서버에 올려놓아 웹 컨텐츠를 사용자와 가까운 곳에서 전송함으로써 전송 속도를 높인다. 

CDN의 사례
- CDN은 아주 먼 거리의 요청과 응답의 시간을 줄이기 위해, 전 세계 여러 곳의 PoP(Points of Presence)에 저장한다. 
- PoP는 자체 캐싱 서버를 갖고 있으며 사용자에게 요청하는 해당 컨텐츠를 전송한다. 
- 특정 국가나 지역만을 타깃으로 하는 웹서비스를 운영한다면 CDN을 활용할 이유가 적어진다. 
- 오히려 불필요한 연결지점만 늘어나는 꼴이기 때문이다. 

CDN 작동예시
- 주말에 최근 개방한 할리우드 영화를 보고싶다. 
- CDN을 통해 해당 비디오를 제공할 최적의 서버를 네트워크에서 찾는다. 
- 이 서버는 일반적으로 사용자의 물리적 위치와 가장 까가운 서버이다. 
- 미디어 파일은 캐싱되며 동일한 지역의 다른 사용자가 해당 미디어 파일을 요청할 경우에 대비해 컨텐츠 전송 네트워크 서버에 남는다. 
- 요청한 컨텐츠가 오래되었거나 사용할 수 없는 경우, CDN 서비스는 새로 가져온 컨텐츠를 저장하고 향후 요청이 있을때 전송한다. 
***
### 서버사이드 
서버 사이드(Server-side)
- 네트워크의 한 방식인 클라이언트-서버 구조의 서버 쪽에서 행해지는 처리를 의미한다. 
- 이는 클라이언트에서 프로그램이 구동되는 클라이언트 사이드와는 대조된다. 
- 사용언어: PHP, Python, Java, Ruby 등등..
- 클라이언트로 보낼 웹페이지를 만들며, 메인 API들을 만든다. 

### Redis vs Memcached
- 유명한 오픈소스인 인메모리 데이터 저장소 
- 인메모리란, 컴퓨터의 메인 메모리 (RAM)에 데이터를 올려서 사용하는 방법을 말한다. 
- 모두 사용하기 쉽고 고성능을 자랑한다. 
- Memcached는 명료하고 단순함을 위하여 개발된 다면, Redis는 다양한 용도에 효과적으로 사용할 수 있도록 많은 특징을 가지고 있다. 

인메모리 데이터베이스를 왜 써? 
- 메인으로 사용하는 데이터베이스가 아닌 보조하는 역할로 많이 사용된다. 
- 예를 들어, 상위 랭킹 10위까지 보여주는 기능을 만든다고 하자.
- 항상 DB에 들어가 랭킹 정보를 저장하고 불러오는 기능을 하기에는 적합하지 않다.
- 따라서 캐시에 랭킹 정보를 담고 있다면 더욱 빠르게 확인할 수 있다. 

Redis 와 Memcached 공통점 
- 1ms 이하의 응답 대기 시간 
- 개발의 용이성
- 데이터 파티셔닝. 데이터를 여러 노드에 분산하여 저장시킬 수 있다. 
- 다양한 프로그래밍 언어 지원

Redis 와 Memcached 차이점
- Memcached 
  - 멀티스레드를 지원하기 때문에 멀티코어 프로세스를 사용할 수 있다.
  - 따라서 스케일업을 통하여 더욱 많은 작업 처리를 할 수 있다. 
  - 메모리 사용량이 상대적으로 적다. 
  - 데이터 변경이 잦은 경우, 메모리 단편화가 발생하기 쉽기 때문에, 한 번 입력후, 변경되지 않는 정보를 저장할 때 유용하다. 
  > 멀티 스레드: 하나의 프로세스 내에서 둘 이상의 스레드가 동시에 작업을 수행하는 것을 의미한다. 
  > 멀티 코어 프로세스: CPU 하나에 여러개의 코어가 내장되어 있는 것. 
  > 메모리 단편화: RAM에서 메모리의 공간이 작은 조각으로 나뉘어져 사용가능한 메모리가 충분히 존재하지만 할당이 불가능한 상태  

- Redis
  - 더욱 다양한 데이터 구조(string 뿐만 아니라 다양한 list, set 등을 지원)
  - Snapshots (데이터를 디스크에 저장하기 때문에 파일 보관이 가능하다.)
  - 복제 (Master-Slave 구조로, 여러개의 복제본을 만들 수 있다.)
  - Memcached 보다 더 다양한 API를 지원한다. 
  - 싱글스레드이기에 Memcached보다 매우 느리다. 

결론
- Memcached, Redis 성능 차이가 크지 않다고 한다. Redis 로 통일해서 사용하는게 관리 및 확장성 측면에서 좋을 것 같다.
- 캐시 업데이트가 빈번한 경우, Redis가 오히려 성능이 잘나오는 경우도 있다.
- 메모리가 날아가면 서비스 장애가 발생할 수 있는 상황이라면, Redis에 저장하는게 좋을 것 같다.
- 메모리가 날라가도, 원본 데이터로 즉시 복구할 수 있는 데이터는 Memcached에 저장하는게 좋을 것 같다.
- 통신 속도를 향상 시키기 위한 목적이면 Memcached를 사용하는게 좋다.
- 그러나 서비스의 특정 기능을 위한 목적으로 캐시 데이터를 사용한다면, Redis를 사용하는게 좋다. (복구가능, 데이터타입 다양)

***
### 클라이언트 사이드
클라이언트 사이드 (Client-side)
- 클라이언트(사용자) 측에서 수행되는 것들 혹은 애플리케이션
- 웹 브라우저는 크게 보면 클라이언트 사이드의 애플리케이션이라 말할 수 있다. 
- 웹 페이지(HTML, CSS, JS 등이 담긴)를 서버로 부터 받아온 후에 클라이언트 사이드 애플리케이션(크롬과 같은 웹 브라우저)에 의해 클라이언트에서 실행된다.

웹 브라우저(Web Browser)
- 하나의 인터프리터(코드를 읽어서 실행시켜주는 프로그램) 이다. 
- html+css+js로 이루어진 코드를 읽어내어 화면에 뿌려준다. 

SPA(Single Page Application)
- 기존의 웹 페이지와는 달리 페이지 갱신에 필요한 데이터만을 전달받아 페이지를 갱신한다. 
- 웹 페이지에 필요한 정적 데이터와 페이지 갱신에 필요한 동적 데이터를 하나의 서버에서 처리한다면, 부하가 커지게 되고 처리가 지연됨에 따라 수행 속도가 느려진다! 
- => Web Server 와 Web Application Server 분리! 
    - Web Server: 클라이언트의 요청을 처리하는 기능을 담당
    - WAS(Web Application Server): DB조회나 다양한 로직을 처리하는 기능을 담당
    - Web Server는 클라이언트가 HTML, CSS와 같은 정적 데이터를 요청하면 앞단에서 빠르게 제공하고, 동적 데이터가 필요하면 WAS에 요청

Nginx
- NginX(엔진엑스)는 바로 이 Web Server의 구축을 도와주는 소프트웨어. Web Server Software 중 하나이다. 
- Web Server Software: 웹 어플리케이션을 안정적으로 제공할 수 있도록 도와주는 역할. ex) Nginx, Apache

NginX 기능
1. 리버스 프록시(Reverse Proxy)
- 중계 기능을 하는 서버. 
- 클라이언트가 서버를 호출할 때 직접 서버에 접근하는 것이 아닌 중계 역할을 하는 리버스 프록시 서버를 호출한다. 
- 이를 통해 실제 서버의 IP를 감춰 보안을 높일 수 있다는 장점이 있다. 

2. 로드밸런싱
- 서버에 가해지는 부하를 분산해주는 역할을 한다. 

NginX 설치: brew install nginx
